<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>First digit test &mdash; benfordslaw benfordslaw documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=e0179649" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=e3a190cb"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Sponsor" href="Documentation.html" />
    <link rel="prev" title="Input" href="Tutorials.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            benfordslaw
          </a>
              <div class="version">
                1.2.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html#uninstalling">Uninstalling</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Tutorials.html">Input</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorials.html#output">Output</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">First digit test</a></li>
<li class="toctree-l1"><a class="reference internal" href="#second-digit-test">Second digit test</a></li>
<li class="toctree-l1"><a class="reference internal" href="#third-digit-test">Third digit test</a></li>
<li class="toctree-l1"><a class="reference internal" href="#last-digit-test">Last digit test</a></li>
<li class="toctree-l1"><a class="reference internal" href="#second-last-digit-test">Second last digit test</a></li>
<li class="toctree-l1"><a class="reference internal" href="#all-other-digits-4-9">All other digits [4-9]</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html">Sponsor</a></li>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html#github">Github</a></li>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html#colab-notebook">Colab Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html#citing">Citing</a></li>
<li class="toctree-l1"><a class="reference internal" href="Coding%20quality.html">Coding quality</a></li>
</ul>

    <a href= "genindex.html">Index</a>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">benfordslaw</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">First digit test</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Examples.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="first-digit-test">
<h1>First digit test<a class="headerlink" href="#first-digit-test" title="Link to this heading"></a></h1>
<p>In the following example we load the 2016 elections data of the USA for various candidates.
We will check whether the votes are fraudulent based on benfords distribution.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">benfordslaw</span> <span class="kn">import</span> <span class="n">benfordslaw</span>

<span class="c1"># Initialize</span>
<span class="n">bl</span> <span class="o">=</span> <span class="n">benfordslaw</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>

<span class="c1"># Load elections example</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">bl</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;elections_usa&#39;</span><span class="p">)</span>

<span class="c1"># Extract election information.</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;votes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;candidate&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Donald Trump&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Print</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="c1"># array([ 5387, 23618,  1710, ...,    16,    21,     0], dtype=int64)</span>

<span class="c1"># Make fit</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">bl</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="n">bl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Donald Trump&#39;</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-center" id="id1">
<caption><span class="caption-text">First digit.</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<tbody>
<tr class="row-odd"><td><p><img alt="fig1" src="_images/fig1.png" /></p></td>
</tr>
</tbody>
</table>
</section>
<section id="second-digit-test">
<h1>Second digit test<a class="headerlink" href="#second-digit-test" title="Link to this heading"></a></h1>
<p>Let’s check the the votes on the second digit and determine whether it significantly deviates from benfords distribution.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">benfordslaw</span> <span class="kn">import</span> <span class="n">benfordslaw</span>

<span class="c1"># Initialize</span>
<span class="n">bl</span> <span class="o">=</span> <span class="n">benfordslaw</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Load elections example</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">bl</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;elections_usa&#39;</span><span class="p">)</span>

<span class="c1"># Extract election information.</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;votes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;candidate&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Donald Trump&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Make fit</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">bl</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="n">bl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Results of Donald Trump based on digit=2&#39;</span><span class="p">,</span> <span class="n">barcolor</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">barwidth</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-center" id="id2">
<caption><span class="caption-text">Second digit.</span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<tbody>
<tr class="row-odd"><td><p><img alt="fig2" src="_images/fig2nd_digit_votes.png" /></p></td>
</tr>
</tbody>
</table>
</section>
<section id="third-digit-test">
<h1>Third digit test<a class="headerlink" href="#third-digit-test" title="Link to this heading"></a></h1>
<p>Let’s check the the votes on the second digit and determine whether it significantly deviates from benfords distribution.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">benfordslaw</span> <span class="kn">import</span> <span class="n">benfordslaw</span>

<span class="c1"># Initialize</span>
<span class="n">bl</span> <span class="o">=</span> <span class="n">benfordslaw</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Load elections example</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">bl</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;elections_usa&#39;</span><span class="p">)</span>

<span class="c1"># Extract election information.</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;votes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;candidate&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Donald Trump&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Make fit</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">bl</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="n">bl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Results of Donald Trump based on digit=3&#39;</span><span class="p">,</span> <span class="n">barcolor</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">barwidth</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-center" id="id3">
<caption><span class="caption-text">Second digit.</span><a class="headerlink" href="#id3" title="Link to this table"></a></caption>
<tbody>
<tr class="row-odd"><td><p><img alt="fig6" src="_images/fig6.png" /></p></td>
</tr>
</tbody>
</table>
</section>
<section id="last-digit-test">
<h1>Last digit test<a class="headerlink" href="#last-digit-test" title="Link to this heading"></a></h1>
<p>Let’s check the the votes on the <strong>last digit</strong> and determine whether it significantly deviates from benfords distribution.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">benfordslaw</span> <span class="kn">import</span> <span class="n">benfordslaw</span>

<span class="c1"># Initialize</span>
<span class="n">bl</span> <span class="o">=</span> <span class="n">benfordslaw</span><span class="p">(</span><span class="n">pos</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Load elections example</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">bl</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;elections_usa&#39;</span><span class="p">)</span>

<span class="c1"># Extract election information.</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;votes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;candidate&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Donald Trump&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Make fit</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">bl</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="n">bl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Results of Donald Trump based on digit=-1&#39;</span><span class="p">,</span> <span class="n">barcolor</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">barwidth</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-center" id="id4">
<caption><span class="caption-text">Last digit.</span><a class="headerlink" href="#id4" title="Link to this table"></a></caption>
<tbody>
<tr class="row-odd"><td><p><img alt="fig3" src="_images/fig_last_digit_votes.png" /></p></td>
</tr>
</tbody>
</table>
</section>
<section id="second-last-digit-test">
<h1>Second last digit test<a class="headerlink" href="#second-last-digit-test" title="Link to this heading"></a></h1>
<p>Let’s check the the votes on the <strong>last digit</strong> and determine whether it significantly deviates from benfords distribution.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">benfordslaw</span> <span class="kn">import</span> <span class="n">benfordslaw</span>

<span class="c1"># Initialize</span>
<span class="n">bl</span> <span class="o">=</span> <span class="n">benfordslaw</span><span class="p">(</span><span class="n">pos</span><span class="o">=-</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Load elections example</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">bl</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;elections_usa&#39;</span><span class="p">)</span>

<span class="c1"># Extract election information.</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;votes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;candidate&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Donald Trump&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Make fit</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">bl</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="n">bl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Results of Donald Trump based on digit=-2&#39;</span><span class="p">,</span> <span class="n">barcolor</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">barwidth</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-center" id="id5">
<caption><span class="caption-text">Second last digit.</span><a class="headerlink" href="#id5" title="Link to this table"></a></caption>
<tbody>
<tr class="row-odd"><td><p><img alt="fig4" src="_images/fig_2nd_last_digit_votes.png" /></p></td>
</tr>
</tbody>
</table>
</section>
<section id="all-other-digits-4-9">
<h1>All other digits [4-9]<a class="headerlink" href="#all-other-digits-4-9" title="Link to this heading"></a></h1>
<p>Benford’s Law has known distributions for the the first three digits. All digits that come after (like pos=4), the distribution is not explicitly defined in classical Benford’s Law. The significance of Benford’s Law in data declines as you move to higher digit positions, since the influence of digit distributions decreases and approaches uniformity.
Therefore, I assume a uniform distribution for every position &gt; 3 or position &lt; 3.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">benfordslaw</span> <span class="kn">import</span> <span class="n">benfordslaw</span>

<span class="c1"># Initialize</span>
<span class="n">bl</span> <span class="o">=</span> <span class="n">benfordslaw</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="c1"># Load elections example</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">bl</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;elections_usa&#39;</span><span class="p">)</span>

<span class="c1"># Extract election information.</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;votes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;candidate&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Donald Trump&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Make fit</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">bl</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="n">bl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Results of Donald Trump based on digit=4&#39;</span><span class="p">,</span> <span class="n">barcolor</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">barwidth</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-center" id="id6">
<caption><span class="caption-text">Fourth digit.</span><a class="headerlink" href="#id6" title="Link to this table"></a></caption>
<tbody>
<tr class="row-odd"><td><p><img alt="fig5" src="_images/fig5.png" /></p></td>
</tr>
</tbody>
</table>
<hr>
<center>
        <script async src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>
        <!-- Show an image ad -->
        <!-- <div data-ea-publisher="erdogantgithubio" data-ea-type="image"></div> -->
        <div data-ea-publisher="erdogantgithubio" data-ea-type="image" data-ea-style="stickybox"></div>
</center>
<hr></section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Tutorials.html" class="btn btn-neutral float-left" title="Input" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Documentation.html" class="btn btn-neutral float-right" title="Sponsor" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Erdogan Taskesen.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>